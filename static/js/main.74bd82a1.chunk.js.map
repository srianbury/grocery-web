{"version":3,"sources":["Components/Spinner/index.js","Components/Error/index.js","Components/Login/index.js","Components/Authentication/index.js","Components/GroceryMain/index.js","Components/Header/index.js","Components/App/index.js","Components/Root/index.js","serviceWorker.js","index.js"],"names":["Spinner","className","role","Error","message","FormContainer","children","SwitchForm","text","handleToggle","buttonText","type","onClick","SignUpContainer","setUser","useContext","AuthenticationContext","SignupSchema","yup","shape","username","min","max","required","email","password","verifyPassword","test","this","parent","handleSignUp","values","a","setStatus","setSubmitting","fetch","process","method","headers","body","JSON","stringify","response","json","result","status","formik","useFormik","initialValues","validationSchema","onSubmit","SignUpView","handleSubmit","htmlFor","name","placeholder","value","onChange","handleChange","onBlur","handleBlur","touched","errors","disabled","isSubmitting","LoginContainer","LoginSchema","LoginView","LoginBase","useState","alreadyAUser","setAlreadyAUser","prev","React","createContext","Authentication","user","loading","state","setState","useEffect","localStorage","getItem","parse","Provider","setItem","removeItem","Login","AppContainer","App","list","error","read","Authorization","token","handleRetry","setTimeout","id","cb","filter","item","_id","handleRemoveItem","handleRemoveAll","ListView","length","map","key","ClearList","ListItemContainer","deleting","setDeleting","ListItemView","HeaderView","handleLogout","HeaderContainer","Header","GroceryMain","Root","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.74bd82a1.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Spinner = () => (\n  <div className=\"spinner-border spinner-border-sm\" role=\"status\">\n    <span className=\"sr-only\">Loading...</span>\n  </div>\n);\n\nexport default Spinner;\n","import React from 'react'\n\nconst Error = ({ message }) => <div className=\"text-danger\">{message}</div>;\n\nexport default Error","import React, { useState, useContext } from \"react\";\nimport { useFormik } from \"formik\";\nimport * as yup from \"yup\";\nimport { AuthenticationContext } from \"../Authentication\";\nimport Spinner from \"../Spinner\";\nimport Error from \"../Error\";\n\nconst FormContainer = ({ children }) => (\n  <div className=\"container\">\n    <div className=\"row\">\n      <div className=\"col-lg-8 offset-lg-2\">{children}</div>\n    </div>\n  </div>\n);\n\nconst SwitchForm = ({ text, handleToggle, buttonText }) => (\n  <h6 className=\"mt-2\">\n    <span className=\"align-middle\">{text} </span>\n    <span>\n      <button type=\"button\" className=\"btn btn-link p-0\" onClick={handleToggle}>\n        {buttonText}\n      </button>\n    </span>\n  </h6>\n);\n\nconst LoginBase = () => {\n  const [alreadyAUser, setAlreadyAUser] = useState(true);\n  function handleToggle() {\n    setAlreadyAUser(prev => !prev);\n  }\n  return (\n    <div>\n      {alreadyAUser ? (\n        <LoginContainer handleToggle={handleToggle} />\n      ) : (\n        <SignUpContainer handleToggle={handleToggle} />\n      )}\n    </div>\n  );\n};\n\nconst SignUpContainer = ({ handleToggle }) => {\n  const { setUser } = useContext(AuthenticationContext);\n\n  const SignupSchema = yup.object().shape({\n    username: yup\n      .string()\n      .min(2, \"Username must be at least 2 characters\")\n      .max(21, \"Username must be less than 21 characters\")\n      .required(\"Required\"),\n    email: yup\n      .string()\n      .email(\"Invalid email\")\n      .required(\"Required\"),\n    password: yup\n      .string()\n      .min(10, \"Password must be at least 10 characters\")\n      .max(30, \"Password must be less than 30 characters\")\n      .required(\"Required\"),\n    verifyPassword: yup\n      .mixed()\n      .test(\"match\", \"Passwords do not match.\", function() {\n        return this.parent.password === this.parent.verifyPassword;\n      })\n  });\n\n  async function handleSignUp(values, { setStatus, setSubmitting }) {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/signup`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          username: values.username,\n          password: values.password,\n          email: values.email\n        })\n      });\n      const result = await response.json();\n      if (response.status === 200) {\n        setUser(result);\n      }\n\n      if (response.status === 400) {\n        setStatus({\n          message: result.message\n        });\n      }\n    } catch (e) {\n      setStatus({\n        message: \"Sign up failed.\" // TODO: add more specific reason here\n      });\n      setSubmitting(false);\n    }\n  }\n\n  const formik = useFormik({\n    initialValues: {\n      username: \"\",\n      password: \"\",\n      email: \"\",\n      verifyPassword: \"\"\n    },\n    validationSchema: SignupSchema,\n    onSubmit: handleSignUp\n  });\n\n  return (\n    <SignUpView\n      formik={formik}\n      handleSignUp={handleSignUp}\n      handleToggle={handleToggle}\n    />\n  );\n};\n\nconst SignUpView = ({ formik, handleToggle }) => (\n  <FormContainer>\n    <form onSubmit={formik.handleSubmit}>\n      <h1>Sign Up</h1>\n\n      {formik.status && <Error message={formik.status.message} />}\n\n      <div className=\"form-group\">\n        <label htmlFor=\"username\">Username</label>\n        <input\n          name=\"username\"\n          type=\"text\"\n          placeholder=\"Username\"\n          className=\"form-control\"\n          value={formik.values.username}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        {formik.touched.username && formik.errors.username && (\n          <Error message={formik.errors.username} />\n        )}\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"email\">Email</label>\n        <input\n          name=\"email\"\n          type=\"text\"\n          placeholder=\"Email\"\n          className=\"form-control\"\n          value={formik.values.email}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        {formik.touched.email && formik.errors.email && (\n          <Error message={formik.errors.email} />\n        )}\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"username\">Password</label>\n        <input\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          className=\"form-control\"\n          value={formik.values.password}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        {formik.touched.password && formik.errors.password && (\n          <Error message={formik.errors.password} />\n        )}\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"verifyPassword\">Verify Password</label>\n        <input\n          name=\"verifyPassword\"\n          type=\"password\"\n          placeholder=\"Verify Password\"\n          className=\"form-control\"\n          value={formik.values.verifyPassword}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        {formik.touched.verifyPassword && formik.errors.verifyPassword && (\n          <Error message={formik.errors.verifyPassword} />\n        )}\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"btn btn-primary\"\n        disabled={formik.isSubmitting}\n      >\n        {formik.isSubmitting ? <Spinner /> : \"Sign Up\"}\n      </button>\n\n      <SwitchForm\n        text=\"Already a user?\"\n        handleToggle={handleToggle}\n        buttonText=\"Login\"\n      />\n    </form>\n  </FormContainer>\n);\n\nconst LoginContainer = ({ handleToggle }) => {\n  const { setUser } = useContext(AuthenticationContext);\n\n  const LoginSchema = yup.object().shape({\n    username: yup.string().required(\"Required\"),\n    password: yup.string().required(\"Required\")\n  });\n\n  async function handleLogin(values, { setStatus, setSubmitting }) {\n    try {\n      setStatus(null); // reset status before request\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(values)\n      });\n\n      const result = await response.json();\n      if (response.status === 200) {\n        setUser(result);\n      }\n\n      if (response.status === 400) {\n        setStatus({\n          message: result.message\n        });\n      }\n    } catch (e) {\n      setStatus({\n        message: \"Login failed.\" // TODO: add more specific reason here\n      });\n      setSubmitting(false);\n    }\n  }\n\n  const formik = useFormik({\n    initialValues: {\n      username: \"\",\n      password: \"\"\n    },\n    validationSchema: LoginSchema,\n    onSubmit: handleLogin\n  });\n\n  return <LoginView formik={formik} handleToggle={handleToggle} />;\n};\n\nconst LoginView = ({ formik, handleToggle }) => (\n  <FormContainer>\n    <form onSubmit={formik.handleSubmit}>\n      <h1>Login</h1>\n      {formik.status && <Error message={formik.status.message} />}\n      <div className=\"form-group\">\n        <label htmlFor=\"username\">Username</label>\n        <input\n          name=\"username\"\n          type=\"text\"\n          placeholder=\"Username\"\n          className=\"form-control\"\n          value={formik.values.username}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        {formik.touched.username && formik.errors.username && (\n          <Error message={formik.errors.username} />\n        )}\n      </div>\n      <div className=\"form-group\">\n        <label htmlFor=\"password\">Password</label>\n        <input\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          className=\"form-control\"\n          value={formik.values.password}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        {formik.touched.password && formik.errors.password && (\n          <Error message={formik.errors.password} />\n        )}\n      </div>\n      <button\n        type=\"submit\"\n        className=\"btn btn-primary\"\n        disabled={formik.isSubmitting}\n      >\n        {formik.isSubmitting ? <Spinner /> : \"Login\"}\n      </button>\n      <SwitchForm\n        text=\"Don't have an account?\"\n        handleToggle={handleToggle}\n        buttonText=\"Sign Up\"\n      />\n    </form>\n  </FormContainer>\n);\n\nexport default LoginBase;\n","import React, { useState, useEffect } from \"react\";\nimport Login from \"../Login\";\nimport Spinner from \"../Spinner\";\n\n/*\n    user: {\n        user: {\n            _id: string,\n            username: string,\n            _v: int\n        },\n        token: json web token\n    }\n*/\n\nconst USER_LOGIN_KEY = \"user_login_key\";\n\nconst AuthenticationContext = React.createContext(null);\nconst Authentication = ({ children }) => {\n  const [state, setState] = useState({\n    user: null,\n    loading: true\n  });\n\n  useEffect(() => {\n    const user = localStorage.getItem(USER_LOGIN_KEY);\n    if (user) {\n      setState(prev => ({\n        ...prev,\n        user: JSON.parse(user),\n        loading: false\n      }));\n    } else {\n      setState(prev => ({\n        ...prev,\n        loading: false\n      }));\n    }\n  }, []);\n\n  function setUser(user) {\n    setState(prev => ({\n      ...prev,\n      user\n    }));\n    if (user) {\n      localStorage.setItem(USER_LOGIN_KEY, JSON.stringify(user));\n    } else {\n      localStorage.removeItem(USER_LOGIN_KEY);\n    }\n  }\n\n  if (state.loading) {\n    return (\n      <div className=\"d-flex justify-content-center mt-4\">\n        <Spinner />\n      </div>\n    );\n  }\n\n  return (\n    <AuthenticationContext.Provider\n      value={{\n        user: state.user,\n        setUser\n      }}\n    >\n      {state.user ? children : <Login />}\n    </AuthenticationContext.Provider>\n  );\n};\n\nexport default Authentication;\nexport { AuthenticationContext };\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { AuthenticationContext } from \"../Authentication\";\nimport Spinner from \"../Spinner\";\nimport Error from \"../Error\";\n\nconst AppContainer = ({ children }) => (\n  <div className=\"container\">\n    <div className=\"row\">\n      <div className=\"col-lg-10 offset-lg-1\">{children}</div>\n    </div>\n  </div>\n);\n\nconst App = () => {\n  const { user } = useContext(AuthenticationContext);\n  const [state, setState] = useState({\n    list: [],\n    loading: true,\n    error: null\n  });\n\n  async function read() {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/list`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: user.token\n        }\n      });\n      const result = await response.json();\n      setState(prev => ({\n        ...prev,\n        list: result.list\n      }));\n    } catch (e) {\n      setState(prev => ({\n        ...prev,\n        error: \"Unable to load data! :(\"\n      }));\n    } finally {\n      setState(prev => ({\n        ...prev,\n        loading: false\n      }));\n    }\n  }\n\n  useEffect(() => {\n    read();\n    // eslint-disable-next-line\n  }, []);\n\n  function handleRetry() {\n    setState(prev => ({\n      ...prev,\n      error: null,\n      loading: true\n    }));\n    // this was performing too quickly and I wanted to give the feel/visualization that\n    // something was actually happending\n    setTimeout(() => {\n      read();\n    }, 500);\n  }\n\n  async function handleRemoveItem(id, cb) {\n    try {\n      const response = await fetch(\n        `${process.env.REACT_APP_API_URL}/list/${id}`,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: user.token\n          }\n        }\n      );\n      await response.json();\n      if (response.status !== 200) {\n        throw Error(\"Unhandled Exception\");\n      }\n      setState(prev => ({\n        ...prev,\n        list: prev.list.filter(item => item._id !== id)\n      }));\n    } catch (e) {\n      cb();\n    }\n  }\n\n  async function handleRemoveAll() {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/list`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: user.token\n      }\n    });\n    if (response.status !== 200) {\n      throw Error(\"Unhandled Exception\");\n    }\n    setState(prev => ({\n      ...prev,\n      list: []\n    }));\n  }\n\n  if (state.error) {\n    return (\n      <div>\n        <Error message={state.error} />\n        <div className=\"d-flex justify-content-center mt-2 mb-2\">\n          <button\n            type=\"button\"\n            className=\"btn btn-sm btn-primary\"\n            onClick={handleRetry}\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (state.loading) {\n    return (\n      <div className=\"d-flex justify-content-center\">\n        <Spinner />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <h3>\n        <span className=\"align-middle\">Grocery List</span>\n        <span className=\"ml-2\">\n          <button\n            type=\"button\"\n            className=\"btn btn-sm btn-primary\"\n            onClick={handleRetry}\n          >\n            <i className=\"fas fa-sync\" />\n          </button>\n        </span>\n      </h3>\n      <ListView\n        list={state.list}\n        handleRemoveItem={handleRemoveItem}\n        handleRemoveAll={handleRemoveAll}\n      />\n    </div>\n  );\n};\n\nconst ListView = ({ list, handleRemoveItem, handleRemoveAll }) => (\n  <div>\n    {list.length === 0 && <div>Your list is empty!</div>}\n    <div className=\"card\">\n      <ul className=\"list-group list-group-flush\">\n        {list.map(item => (\n          <ListItemContainer\n            key={item._id}\n            id={item._id}\n            name={item.name}\n            handleRemoveItem={handleRemoveItem}\n          />\n        ))}\n      </ul>\n    </div>\n    {list.length > 0 && <ClearList handleRemoveAll={handleRemoveAll} />}\n  </div>\n);\n\nconst ClearList = ({ handleRemoveAll }) => (\n  <div className=\"d-flex justify-content-end mt-2\">\n    <button\n      type=\"button\"\n      className=\"btn btn-sm btn-danger\"\n      onClick={handleRemoveAll}\n    >\n      Clear All\n    </button>\n  </div>\n);\n\nconst ListItemContainer = ({ id, name, handleRemoveItem }) => {\n  const [deleting, setDeleting] = useState(false);\n  function handleRemove() {\n    setDeleting(true);\n    handleRemoveItem(id, () => setDeleting(false));\n  }\n  if (deleting) {\n    return (\n      <li className=\"list-group-item\">\n        <Spinner />\n      </li>\n    );\n  }\n  return <ListItemView id={id} name={name} handleRemoveItem={handleRemove} />;\n};\n\nconst ListItemView = ({ id, name, handleRemoveItem }) => (\n  <li className=\"list-group-item\">\n    <div className=\"d-flex justify-content-between\">\n      <div>{name}</div>\n      <div className=\"d-flex align-items-center\">\n        <button\n          type=\"button\"\n          className=\"btn btn-sm btn-danger\"\n          onClick={() => handleRemoveItem(id)}\n        >\n          <i className=\"far fa-trash-alt\" />\n        </button>\n      </div>\n    </div>\n  </li>\n);\n\nexport default () => (\n  <AppContainer>\n    <App />\n  </AppContainer>\n);\n","import React, { useContext } from \"react\";\nimport { AuthenticationContext } from \"../Authentication\";\n\nconst HeaderContainer = () => {\n  const { user, setUser } = useContext(AuthenticationContext);\n  function handleLogout() {\n    setUser(null);\n  }\n  return (\n    <HeaderView username={user.user.username} handleLogout={handleLogout} />\n  );\n};\n\nconst HeaderView = ({ username, handleLogout }) => (\n  <div className=\"container-fluid\">\n    <div className=\"d-flex justify-content-end\">\n      <h5>\n        <span className=\"align-middle\">{username}</span>\n        <span className=\"ml-2\">\n          <button\n            type=\"button\"\n            className=\"btn btn-sm btn-secondary\"\n            onClick={handleLogout}\n          >\n            <i className=\"fas fa-sign-out-alt\" />\n          </button>\n        </span>\n      </h5>\n    </div>\n  </div>\n);\n\nexport default HeaderContainer;\n","import React from \"react\";\nimport GroceryMain from \"../GroceryMain\";\nimport Header from \"../Header\";\n\nconst App = () => (\n  <div className=\"mt-2 mb-2\">\n    <Header />\n    <GroceryMain />\n  </div>\n);\n\nexport default App;\n","import React from \"react\";\nimport App from \"../App\";\nimport Authentication from \"../Authentication\";\n\nconst Root = () => (\n  <div className=\"mt-2\">\n    <Authentication>\n      <App />\n    </Authentication>\n  </div>\n);\n\nexport default Root;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Root from \"./Components/Root\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Root />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}